{% if end_date != blank %}

<div class="timer card-{{ include.border }}-border">

    {% if title != blank %}<h2 class="timer__title display-2 shadow-text">{{ include.title }}</h2>{% endif %}

    <div class="timer-display display-5">
        <div class="timer-block">
            <span class="timer-block__num js-timer-days">00</span>
            <span class="timer-block__unit">Days</span>
        </div>
        <div class="timer-block">
            <span class="timer-block__num js-timer-hours">00</span>
            <span class="timer-block__unit">Hours</span>
        </div>
        <div class="timer-block">
            <span class="timer-block__num js-timer-minutes">00</span>
            <span class="timer-block__unit">Minutes</span>
        </div>
        <div class="timer-block">
            <span class="timer-block__num js-timer-seconds">00</span>
            <span class="timer-block__unit">Seconds</span>
        </div>
    </div>

</div>

<style>
    .timer {
        background: linear-gradient(#333, #800000);
        padding: 10px;
        font-family: "Bebas Neue", cursive;
    }
    .timer--expired {
        display: none;
    }
    .timer__title {
        text-align: center;
    }
    .timer-display {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -ms-flex-wrap: wrap;
        flex-wrap: wrap;
        -webkit-box-pack: justify;
        -ms-flex-pack: justify;
        justify-content: space-between;
        margin-top: 5px;
    }
    .timer-block {
        position: relative;
        width: 25%;
        padding: 0 10px;
        &:not(:last-child):after {
            content: ':';
            position: absolute;
            right: 0;
            top: 3px;
        }
    }
    .timer-block__num,
    .timer-block__unit {
        display: block;
        text-align: center;
    }
</style>

<script type="text/javascript">
    var second = 1000,
        minute = second * 60,
        hour = minute * 60,
        day = hour * 24;
    var countDown = new Date('{{ include.end_date }}').getTime(),
        x = setInterval(function () {
            var now = new Date().getTime(),
                distance = countDown - now;
            document.querySelector('.js-timer-days').innerText = Math.floor(distance / (day)),
                document.querySelector('.js-timer-hours').innerText = Math.floor((distance % (day)) / (hour)),
                document.querySelector('.js-timer-minutes').innerText = Math.floor((distance % (hour)) / (minute)),
                document.querySelector('.js-timer-seconds').innerText = Math.floor((distance % (minute)) / second);
        }, second)
</script>

{% endif %}
